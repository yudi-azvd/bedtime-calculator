class e{constructor(e,t,n,s){this.document=e,this.id=t,this.name=n,this.outputDivId=s,this.htmlElement=this.document.createElement("div"),this.htmlElement.classList.add("tab"),this.htmlElement.classList.add("transparent"),this.htmlElement.classList.add("hide"),this.htmlElement.id=t}}class t extends e{constructor(e){super(e,"tab-credits","Créditos"),this.htmlElement.innerHTML='\n      <p><strong> Créditos </strong></p>\n      <p> <a href="https://www.flaticon.com/premium-icon/clock_2838590?term=clock&page=1&position=13&page=1&position=13&related_id=2838590&origin=search">Relógio</a> da logo </p>\n      <p> <a href="https://www.flaticon.com/premium-icon/bed_3010012?term=bed&page=1&position=8&page=1&position=8&related_id=3010012&origin=search">Cama</a> da logo </p>\n    '}setup(){}}class n{run(){const e=new Date(`${this.DEFAULT_DATE} ${this.startTime}`);e.setMinutes(this.operation(e.getMinutes(),this.oneSleepCycleDurationInMinutes));const t=e.toLocaleTimeString("pt-BR").replace(/:\d\d$/,"");return this.startTime=t,t}constructor(){this.oneSleepCycleDurationInMinutes=90,this.DEFAULT_DATE="2000-01-01"}}class s extends n{constructor({baseTime:e,oneSleepCycleDurationInMinutes:t=90}){super(),this.startTime=e,this.oneSleepCycleDurationInMinutes=t}operation(e,t){return e+t}}function i(e){let t=new String(e.getHours());t=t.padStart(2,"0");let n=new String(e.getMinutes());return n=n.padStart(2,"0"),`${t}:${n}`}class a extends e{constructor(e){super(e,"tab-sleep","Dormir");const t=i(new Date);this.htmlElement.innerHTML=`\n      <p>Eu quero dormir às:</p>\n\n      <label for="base-time-sleep" class="form-label">\n        <input class="form-control" type="time" id="base-time-sleep" value="${t}">\n      </label>\n\n      <p>pra acordar possivelmente às:</p>\n      <div id="times-wake-up"></div>\n    `,this.input=this.htmlElement.querySelector("input")}setup(){const e=e=>{let t=`${e.target.value}`;const n=document.querySelector("#times-wake-up");let i;n.innerText="";let a,r=new s({baseTime:t});for(let e=0;e<5;e++)i=r.run(),t=i,a=document.createElement("li"),a.innerText=i,n.appendChild(a)};this.input.addEventListener("change",e),this.input.addEventListener("blur",(t=>{console.log("hey"),e(t)}))}}class r extends n{constructor({baseTime:e,oneSleepCycleDurationInMinutes:t=90}){super(),this.startTime=e,this.oneSleepCycleDurationInMinutes=t}operation(e,t){return e-t}}class l extends e{constructor(e){super(e,"tab-wake-up","Acordar","times-sleep");const t=i(new Date);this.htmlElement.innerHTML=`\n      <p>Eu quero acordar às:</p>\n\n      <label for="base-time-sleep" class="form-label">\n        <input class="form-control" type="time" id="base-time-wake-up" value="${t}">\n      </label>\n\n      <p>dormindo possivelmente às:</p>\n      <div id="times-sleep"></div>\n    `,this.input=this.htmlElement.querySelector("input")}setup(){const e=e=>{let t=`${e.target.value}`;const n=document.querySelector("#times-sleep");let s;n.innerText="";let i,a=new r({baseTime:t});for(let e=0;e<5;e++)s=a.run(),t=s,i=document.createElement("li"),i.innerText=s,n.appendChild(i)};this.input.addEventListener("change",e),this.input.addEventListener("blur",e)}}class o{constructor(e,t,n){this.htmlElement=e,this.tabManagerMenu=t,this.htmlElement.innerText="",n.forEach((e=>this.register(e))),this.htmlElement.prepend(t.htmlElement),this.setActive(n[0].id),this.tabManagerMenu.setActive(n[0].id.replace(/^tab/,"btn"))}register(e){e.setup(),this.htmlElement.append(e.htmlElement)}setActive(e){const t=this.htmlElement.querySelector(".tab.active");t?.classList.add("transparent"),t?.classList.add("hide"),t?.classList.remove("active");const n=this.htmlElement.querySelector(`#${e}`);n.classList.remove("transparent"),n.classList.remove("hide"),setTimeout((()=>{n.classList.add("active")}),100)}setupMenuListeners(){const e=e=>{e.addEventListener("click",(()=>{this.tabManagerMenu.setActive(e.id),this.setActive(e.id.replace(/^btn/,"tab")),e.classList.add("active")}))};this.htmlElement.querySelectorAll("button").forEach((t=>e(t)))}}class c{constructor(e,t){this.document=e,this.htmlElement=this.document.createElement("div"),this.htmlElement.classList.add("tab-manager-menu"),this.htmlElement.innerHTML=t.map((e=>`<button id="btn-${e.id}"> ${e.name} </button>`)).join("")}setActive(e){this.htmlElement.querySelector("button.active")?.classList.remove("active");this.htmlElement.querySelector(`#${e}`).classList.add("active")}}class m extends e{constructor(e){super(e,"tab-about","Sobre"),this.htmlElement.innerHTML='\n      <p>Ainda vou acrescentar uma breve descrição sobre esse app aqui.</p>\n      <p>Feito por <a href="https://github.com/yudi-azvd">Yudi Yamane</a></p>\n      <p>Código fonte: <a href="https://github.com/yudi-azvd/bedtime-calculator">yudi-azvd/bedtime-calculator</a></p>\n    '}setup(){}}!function(){const e=document.querySelector(".tab-manager"),n=[new a(document),new l(document),new t(document),new m(document)],s=new c(document,n.map((e=>({id:e.id.replace(/tab-/,""),name:e.name}))));new o(e,s,n).setupMenuListeners()}();
//# sourceMappingURL=index.2c947a6c.js.map
