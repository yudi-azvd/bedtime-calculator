class e{constructor({baseTime:e,oneSleepCycleDurationInMinutes:t=90,minimumAmountOfSleepInMinutes:n=90}){if(this.MINIMUM_MINUTES=15,this.DEFAULT_DATE="2000-01-01",t<this.MINIMUM_MINUTES)throw new Error;if(n<this.MINIMUM_MINUTES)throw new Error;this.baseDate=new Date(`${this.DEFAULT_DATE} ${e}`),this.newBaseDate=this.baseDate,this.oneSleepCycleDurationInMinutes=t,this.minimumAmountOfSleepInMinutes=n,this.preRun()}run(){const e=new Date(this.newBaseDate.getTime());return e.setMinutes(this.operation(e.getMinutes(),this.oneSleepCycleDurationInMinutes)),this.newBaseDate=e,this.dateToTimeString(e)}preRun(){if(this.oneSleepCycleDurationInMinutes!==this.minimumAmountOfSleepInMinutes&&this.oneSleepCycleDurationInMinutes<this.minimumAmountOfSleepInMinutes){let e=Math.floor(this.minimumAmountOfSleepInMinutes/this.oneSleepCycleDurationInMinutes)+1;this.minimumAmountOfSleepInMinutes%this.oneSleepCycleDurationInMinutes==0&&e--;for(let t=0;t<e-1;t++)this.run()}}dateToTimeString(e){return e.toLocaleTimeString("pt-BR").replace(/:\d\d$/,"")}}class t extends e{operation(e,t){return e+t}}function n(e){let t=new String(e.getHours());t=t.padStart(2,"0");let n=new String(e.getMinutes());return n=n.padStart(2,"0"),`${t}:${n}`}class i{constructor(e,t,n,i){this.document=e,this.id=t,this.name=n,this.outputDivId=i,this.htmlElement=this.document.createElement("div"),this.htmlElement.classList.add("tab"),this.htmlElement.classList.add("transparent"),this.htmlElement.classList.add("hide"),this.htmlElement.id=t}}class s extends i{constructor(e){super(e,"tab-sleep","Dormir");const t=n(new Date);this.htmlElement.innerHTML=`\n      <p>Eu quero dormir às:</p>\n\n      <label for="base-time-sleep" class="form-label">\n        <input class="form-control" type="time" id="base-time-sleep" value="${t}">\n      </label>\n\n      <p>pra acordar possivelmente às:</p>\n      <div id="times-wake-up"></div>\n    `,this.input=this.htmlElement.querySelector("input")}setup(){this.input.addEventListener("change",(e=>{let n=`${e.target.value}`;const i=document.querySelector("#times-wake-up");let s;i.innerText="";let a,r=new t({baseTime:n});for(let e=0;e<5;e++)s=r.run(),n=s,a=document.createElement("li"),a.innerText=s,i.appendChild(a)}))}}class a extends e{operation(e,t){return e-t}}class r extends i{constructor(e){super(e,"tab-wake-up","Acordar","times-sleep");const t=n(new Date);this.htmlElement.innerHTML=`\n      <p>Eu quero acordar às:</p>\n\n      <label for="base-time-sleep" class="form-label">\n        <input class="form-control" type="time" id="base-time-wake-up" value="${t}">\n      </label>\n\n      <p>dormindo possivelmente às:</p>\n      <div id="times-sleep"></div>\n    `,this.input=this.htmlElement.querySelector("input")}setup(){this.input.addEventListener("change",(e=>{let t=`${e.target.value}`;const n=document.querySelector("#times-sleep");let i;n.innerText="";let s,r=new a({baseTime:t});for(let e=0;e<5;e++)i=r.run(),t=i,s=document.createElement("li"),s.innerText=i,n.appendChild(s)}))}}class l{constructor(e,t,n){this.htmlElement=e,this.tabManagerMenu=t,this.htmlElement.innerText="",n.forEach((e=>this.register(e))),this.htmlElement.prepend(t.htmlElement),this.setActive(n[0].id),this.tabManagerMenu.setActive(n[0].id.replace(/^tab/,"btn"))}register(e){e.setup(),this.htmlElement.append(e.htmlElement)}setActive(e){const t=this.htmlElement.querySelector(".tab.active");t?.classList.add("transparent"),t?.classList.add("hide"),t?.classList.remove("active");const n=this.htmlElement.querySelector(`#${e}`);n.classList.remove("transparent"),n.classList.remove("hide"),setTimeout((()=>{n.classList.add("active")}),150)}setupMenuListeners(){const e=e=>{e.addEventListener("click",(()=>{this.tabManagerMenu.setActive(e.id),this.setActive(e.id.replace(/^btn/,"tab")),e.classList.add("active")}))};this.htmlElement.querySelectorAll("button").forEach((t=>e(t)))}}class o{constructor(e,t){this.document=e,this.htmlElement=this.document.createElement("div"),this.htmlElement.classList.add("tab-manager-menu"),this.htmlElement.innerHTML=t.map((e=>`<button id="btn-${e.id}"> ${e.name} </button>`)).join("")}setActive(e){this.htmlElement.querySelector("button.active")?.classList.remove("active");this.htmlElement.querySelector(`#${e}`).classList.add("active")}}class m extends i{constructor(e){super(e,"tab-about","Sobre"),this.htmlElement.innerHTML='\n      <p>Este aplicativo calcula a hora ideal para dormir e acordar baseado\n      em cilcos de sono.</p>\n\n      <br>\n      <p><strong> Créditos </strong></p>\n      <p>Feito por <a href="https://github.com/yudi-azvd">Yudi Yamane</a></p>\n      <p>Código fonte: <a href="https://github.com/yudi-azvd/bedtime-calculator">yudi-azvd/bedtime-calculator</a></p>\n      <p> <a href="https://www.flaticon.com/premium-icon/clock_2838590?term=clock&page=1&position=13&page=1&position=13&related_id=2838590&origin=search">Relógio</a> da logo </p>\n      <p> <a href="https://www.flaticon.com/premium-icon/bed_3010012?term=bed&page=1&position=8&page=1&position=8&related_id=3010012&origin=search">Cama</a> da logo </p>\n\n    '}setup(){}}!function(){const e=document.querySelector(".tab-manager"),t=[new s(document),new r(document),new m(document)],n=new o(document,t.map((e=>({id:e.id.replace(/tab-/,""),name:e.name}))));new l(e,n,t).setupMenuListeners()}();
//# sourceMappingURL=index.2645592e.js.map
